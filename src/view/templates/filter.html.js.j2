<!-- build from module 'columns' -->
<select id="{{ tab.tab }}_filter_field">
    <option></option>
    <option value="is_mute">Muted</option>
    <option value="tracked">Tracked</option>
    <option value="SSID">SSID</option>
    <option value="BSSID">BSSID</option>
    <option value="Signal">Signal</option>
    <option value="Channel">Channel</option>
    <option value="Frequency">Frequency</option>
    <option value="Quality">Quality</option>
    <option value="Encryption">Encryption</option>
    <option value="Vendor">Vendor</option>
    <option value="created">Found</option>
    <option value="updated">Last</option>
</select>
<select id="{{ tab.tab }}_filter_type">
    <option value="=">=</option>
    <option value="<"><</option>
    <option value="<="><=</option>
    <option value=">">></option>
    <option value=">=">>=</option>
    <option value="!=">!=</option>
    <option value="like">like</option>
</select>
<input id="{{ tab.tab }}_filter_value" type="text" size="16"  placeholder="filter this.">
<button id="{{ tab.tab }}_filter_clear" class="clear_button">
    <span id="clear_button_text">CLEAR</span>
</button>
<button id="all_button" class="all_button button" value="all_button" data-action=""  data-target="{{ tab.tab }}">ALL</button>
<button id="none_button" class="none_button button" value="none_button" data-action=""  data-target="{{ tab.tab }}">NONE</button>
<button id="write_button" class="write_button button" value="write_button" data-action=""  data-target="{{ tab.tab }}">WRITE</button>
<button id="reload_button" class="reload_button button" value="reload_button" data-action=""  data-target="{{ tab.tab }}">RELOAD</button>
<script>

    // Define variables for input elements
    var {{ tab.tab }}_fieldEl = document.getElementById("{{ tab.tab }}_filter_field");
    var {{ tab.tab }}_typeEl = document.getElementById("{{ tab.tab }}_filter_type");
    var {{ tab.tab }}_valueEl = document.getElementById("{{ tab.tab }}_filter_value");

    // filter
    function customFilter(data){
        return data.field1 && data.field2 < 3;
    }

    // Trigger setFilter function with correct parameters
    function updateFilter(){
        var {{ tab.tab }}_filterVal = {{ tab.tab }}_fieldEl.options[{{ tab.tab }}_fieldEl.selectedIndex].value;
        var {{ tab.tab }}_typeVal = {{ tab.tab }}_typeEl.options[{{ tab.tab }}_typeEl.selectedIndex].value;

        // enable filter
        var {{ tab.tab }}_filter = {{ tab.tab }}_filterVal == "function" ? customFilter : {{ tab.tab }}_filterVal;

        if({{ tab.tab }}_filterVal == "function" ){
            {{ tab.tab }}_typeEl.disabled = true;
            {{ tab.tab }}_valueEl.disabled = true;
        } else {
            {{ tab.tab }}_typeEl.disabled = false;
            {{ tab.tab }}_valueEl.disabled = false;
        }

        if({{ tab.tab }}_filterVal){
            {{ tab.tab }}.setFilter({{ tab.tab }}_filter,{{ tab.tab }}_typeVal, {{ tab.tab }}_valueEl.value);
        }
    }

    {{ tab.tab }}_fieldEl.addEventListener("change", updateFilter);
    {{ tab.tab }}_typeEl.addEventListener("change", updateFilter);
    {{ tab.tab }}_valueEl.addEventListener("keyup", updateFilter);

    document.getElementById("{{ tab.tab }}_filter_clear").addEventListener("click", function(){
        {{ tab.tab }}_fieldEl.value = "";
        {{ tab.tab }}_typeEl.value = "=";
        {{ tab.tab }}_valueEl.value = "";
        {{ tab.tab }}.clearFilter();
    });
</script>
